{"title":"Correlation and Regression Models","markdown":{"yaml":{"title":"Correlation and Regression Models ","subtitle":"Part 1","author":"Esteban Montenegro-Montenegro, PhD","institute":"Psychology and Child Development","title-slide-attributes":{"data-background-image":"background1.png","data-background-opacity":"0.5"},"format":{"revealjs":{"theme":["default","custom.scss"],"slide-number":true,"self-contained":false,"chalkboard":{"theme":"whiteboard"}}},"editor":"visual","bibliography":"references.bib","csl":"apa.csl"},"headingText":"Today's aims","headingAttr":{"id":"","classes":["smaller","scrollable"],"keyvalue":[["background-image","slide2.png"],["background-opacity","0.5"]]},"containsRefs":false,"markdown":"\n\n\n-   To introduce correlation to estimate relationships between two variables.\n\n-   To introduce the notion of covariance.\n\n-   To study scatter plots to visualize correlations.\n\n```{r}\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(dplyr)\nlibrary(gghighlight)\n```\n\n## What is a correlation coefficient ? {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   A ***correlation coefficient*** is a numerical index that reflects the relationship between two variables. The value of this descriptive statistic ranges between -1.00 and +1.00.\n\n-   A correlation between two variables is sometimes referred to as a bivariate (for two variables) correlation\n\n## What is a correlation coefficient ? {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   At the beginning we will study the correlation named *Pearson product-moment*.\n-   There other types of correlation estimation depending on the data generating process of each variable.\n-   *Pearson product-moment* deals with ***continuous*** DATA.\n\n## Correlation interpretation and other features {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n@salkind2021statistics:\n\n![](table.PNG)\n\n## Correlation interpretation and other features (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n@salkind2021statistics:\n\n-   A correlation can range in value from $-1.00$ to $+1.00$.\n\n-   A correlation equal to 0 means there is no relationship between the two variables.\n\n-   The absolute value of the coefficient reflects the strength of the correlation. So, a correlation of $-.70$ is stronger than a correlation of $+.50$. One frequently made mistake regarding correlation coefficients occurs when students assume that a direct or positive correlation is always stronger (i.e., \"better\") than an indirect or negative correlation because of the sign and nothing else.\n\n-   A negative correlation is not a \"bad\" correlation.\n\n-   We will use the letter *r* to represent correlation. For example $r= .06$.\n\n## Correlation interpretation and other features (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n![](corre.PNG)\n\n$r_{xy}$ is the correlation coefficient.\n\n$n$ is the sample size.\n\n$X$ represents variable $X$.\n\n$Y$ represents variable $Y$.\n\n$\\Sigma$ means summation or addition.\n\n## Let's take a look at positive correlations {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r, echo=FALSE, message=FALSE, error=FALSE}\nlibrary(lavaan)\nlibrary(mvtnorm)\nlibrary(ggplot2)\nlibrary(patchwork)\n\nset.seed(326)\n\ncoR <- diag(3)\ncoR [lower.tri(coR)] <- c(.20,.50,.90)\ncoR [upper.tri(coR)] <- c(.20,.50,.90)\n\nSDS <- c(1.2, 1.3,1.4)\n\ngeneratedData <- rmvnorm(200, \n                         mean = c(30,63,95), \n                         sigma = cor2cov(coR, SDS))\n\ndata1 <- as.data.frame(generatedData)\n\n\ncorrr1 <- ggplot(data = data1, aes(x = V1, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm)+\nannotate(\"text\", x = 28, y = 65, label = \"r = .28\")\n \ncorrr2 <- ggplot(data = data1, aes(x = V1, y = V3)) + \n  geom_point() + \n  geom_smooth(method = lm) +\nannotate(\"text\", x = 28, y = 97, label = \"r = .52\") \n \ncorrr3 <- ggplot(data = data1, aes(x = V3, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm) +\nannotate(\"text\", x = 93, y = 65, label = \"r = .91\") \n\ncorrr1+ corrr2 + corrr3 +  plot_layout(ncol = 2) + gridExtra::tableGrob(round(cor(data1),2))\n\n\n\n\n```\n\n## Let's take a look at negative correlations (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r, echo=FALSE, message=FALSE, error=FALSE}\n\nlibrary(lavaan)\nlibrary(mvtnorm)\nlibrary(ggplot2)\nlibrary(patchwork)\n\nset.seed(326)\n\ncoR <- diag(3)\ncoR [lower.tri(coR)] <- c(-.25,-.50,-.90)\ncoR [upper.tri(coR)] <- c(-.25,-.50,-.90)\n\nSDS <- c(1, 1.3,1.4)\n\ngeneratedData <- rmvnorm(200, \n                         mean = c(30,63,95), \n                         sigma = cor2cov(coR, SDS))\n\ndata1 <- as.data.frame(generatedData)\n\n\ncorrr1 <- ggplot(data = data1, aes(x = V1, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm)\n\n \ncorrr2 <- ggplot(data = data1, aes(x = V1, y = V3)) + \n  geom_point() + \n  geom_smooth(method = lm) \n\n \ncorrr3 <- ggplot(data = data1, aes(x = V3, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm) \n\ncorrr1+ corrr2 + corrr3 +  plot_layout(ncol = 2) + \n  gridExtra::tableGrob(round(cor(data1),2))\n\n```\n\n## Correlation matrix {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n@salkind2021statistics:\n\n-   You will find a correlation matrix in publications.\n-   It is the best way to represent several correlations between different pairs of variables.\n\n![](matrix.png)\n\n-   You will notice that a a correlation matrix has 1.00 on the diagonal and two \"triangles\" with the same information.\n\n![](matrix2.png)\n\n## Coefficient of Determination {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   There is a useful trick, you could square your $r$ and get a measure of correlation in terms of percentage of shared variance:\n\n![](deter.PNG)\n\n## Coefficient of Determination (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   What is the coefficient of determination in this case?\n\n-   We just need to estimate \\$ r\\^2= -0.22\\^2 = -0.05$. Attention and depression shared only 5$%\\$ of the variability (variance).\n\n```{r echo = FALSE, eval = TRUE, message=FALSE,error=FALSE}\nlibrary(dplyr)\nlibrary(ggplot2)\n\nrum <- read.csv(\"rumination.csv\", na.string = \"99\")\n\nrum_scores <- rum %>% mutate(rumiacion = rowSums(across(CRQS1:CRSQ13)),\n                             depresion =  rowSums(across(CDI1:CDI26)),\n                             anx = rowSums(across(DASS1:DASS7)),\n                             worry = (PSWQC_2r + PSWQC_7r + PSWQC_9r + PSWQC_1  + PSWQC_3  + PSWQC_4 + PSWQC_5 + PSWQC_6 + PSWQC_8 + PSWQC_10 + PSWQC_11 + PSWQC_12 + PSWQC_13 + PSWQC_14 )) %>%\n  mutate(rumZ = scale(rumiacion),\n         depreZ = scale(depresion),\n         atencionZ = scale(ATENCION),\n         worryZ = scale(worry))\n\n\n\nggplot(data = rum_scores, aes(x = depreZ, y = atencionZ)) + \n  geom_point() + \n  geom_smooth(method = lm, se = FALSE) + \n  xlab(\"Standardized Depression Score\")+\n  ylab(\"Standardized Attention Score\")+\n  ggtitle(\"Negative correlation between Depression and Attention\") +\n  theme_classic() + \n  annotate(\"text\", x = -1, y = 3, label = \"r = - .22\")\n\n```\n\n## Scatter plots and direction of correlation {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   I have shown you several plots, these plots are called ***scatter plots***.\n\n-   These plots are useful to explore visually possible correlations.\n\n-   When you create this plots, you only need to represent one of the variables in the x-axis and the other variable will be represented in the y-axis.\n\n::: callout-note\n-   Can you guess if the next scatter plot corresponds to a positive correlation?\n:::\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r, error=FALSE,message=FALSE,error=FALSE}\n\nggplot(data = rum_scores, aes(x = rumZ, y = worryZ)) + \n  geom_point() + \n   scale_y_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  scale_x_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  #geom_jitter(width = 0.25) +\n  ##geom_smooth(method = lm) + \n  xlab(\"Standardized Rumination Score\")+\n  ylab(\"Standardized Worry Score\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   We can check some values and see what is happening, like case #78, in the next plot:\n\n```{r,message=FALSE,error=FALSE}\n\nggplot(data = rum_scores, aes(x = rumZ, y = worryZ)) + \n  geom_point() + \n   scale_y_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  scale_x_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  #geom_jitter(width = 0.25) +\n  ##geom_smooth(method = lm) + \n  xlab(\"Standardized Rumination Score\")+\n  ylab(\"Standardized Worry Score\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  gghighlight(worryZ > 2.5, use_direct_label = FALSE)+\n   geom_label(aes(label = ID),\n               hjust = 1, vjust = 1, fill = \"purple\", colour = \"white\", alpha= 0.5)+\n  theme_classic()\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Maybe if we add the line of best fit we will see it better:\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = rum_scores, aes(x = rumZ, y = worryZ)) + \n  geom_point() + \n  geom_smooth(method = lm, color = \"red\", se = FALSE)+\n   scale_y_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  scale_x_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  #geom_jitter(width = 0.25) +\n  ##geom_smooth(method = lm) + \n  xlab(\"Standardized Rumination Score\")+\n  ylab(\"Standardized Worry Score\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Can you spot the direction of this correlation?\n\n-   This data come from a questionnaire that asks to rate how emotional you feel. For instance, it asks: Rate how GREAT you feel where 1 = \"not feeling\" to 6=\"I strongly feel it\".\n\n```{r,message=FALSE,error=FALSE}\npos <- read.csv(\"pos_neg.csv\")\n\n\nggplot(data = pos, aes(x = great , y = down)) + \n  geom_point() + \n  #geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     geom_jitter(width = 0.25) +\n  scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Great\")+\n  ylab(\"Down\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Let's add again the line of best linear fit:\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = pos, aes(x = great , y = down)) + \n  geom_point() + \n  geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     geom_jitter(width = 0.25) +\n  scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Great\")+\n  ylab(\"Down\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = rum_scores, aes(x = ageMonths , y = rumZ)) + \n  geom_point() + \n  #geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     #geom_jitter(width = 0.25) +\n  #scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  #scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Age in Months\")+\n  ylab(\"Rumination\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Let's add the line of linear fit:\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = rum_scores, aes(x = ageMonths , y = rumZ)) + \n  geom_point() + \n  geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     #geom_jitter(width = 0.25) +\n  #scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  #scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Age in Months\")+\n  ylab(\"Rumination\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n```\n\n## Important remarks {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   When the correlation is high, it means there is a large portion of shared variance between $x$ and $y$.\n-   When the correlation is high all the values will converge towards the line of best linear fit.\n-   When the correlation is low, the values will be sparse and far from the line of best fit.\n-   A flat linear line means that there is not correlation between $x$ or $y$ or the correlation is remarkably low. This means $r=0$ or closer to zero.\n\n# Computer estimation time! {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n##  {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   In `R` you can estimate Pearson correlations using the function `cor()` as showed here:\n\n```{r echo = TRUE,message=FALSE,error=FALSE}\n### pos is the name of the object representing my data set\ncor(pos$down, pos$great)\n```\n\nIn this estimation, I'm calculating the correlation between the emotion DOWN and the emotion GREAT. The Pearson correlation was $r= -0.36$. Is this a strong correlation?\n\n-   We could follow an ugly rule of thumb, but be careful, these are not rules cast in stone [@salkind2021statistics]:\n\n![](ugly.png){fig-align=\"center\"}\n\n## JAMOVI {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n![](step1.png)\n\n## JAMOVI {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n![](step2.png)\n\n## References {background-image=\"slide2.png\" background-opacity=\"0.5\"}\n","srcMarkdownNoYaml":"\n\n## Today's aims {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   To introduce correlation to estimate relationships between two variables.\n\n-   To introduce the notion of covariance.\n\n-   To study scatter plots to visualize correlations.\n\n```{r}\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(dplyr)\nlibrary(gghighlight)\n```\n\n## What is a correlation coefficient ? {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   A ***correlation coefficient*** is a numerical index that reflects the relationship between two variables. The value of this descriptive statistic ranges between -1.00 and +1.00.\n\n-   A correlation between two variables is sometimes referred to as a bivariate (for two variables) correlation\n\n## What is a correlation coefficient ? {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   At the beginning we will study the correlation named *Pearson product-moment*.\n-   There other types of correlation estimation depending on the data generating process of each variable.\n-   *Pearson product-moment* deals with ***continuous*** DATA.\n\n## Correlation interpretation and other features {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n@salkind2021statistics:\n\n![](table.PNG)\n\n## Correlation interpretation and other features (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n@salkind2021statistics:\n\n-   A correlation can range in value from $-1.00$ to $+1.00$.\n\n-   A correlation equal to 0 means there is no relationship between the two variables.\n\n-   The absolute value of the coefficient reflects the strength of the correlation. So, a correlation of $-.70$ is stronger than a correlation of $+.50$. One frequently made mistake regarding correlation coefficients occurs when students assume that a direct or positive correlation is always stronger (i.e., \"better\") than an indirect or negative correlation because of the sign and nothing else.\n\n-   A negative correlation is not a \"bad\" correlation.\n\n-   We will use the letter *r* to represent correlation. For example $r= .06$.\n\n## Correlation interpretation and other features (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n![](corre.PNG)\n\n$r_{xy}$ is the correlation coefficient.\n\n$n$ is the sample size.\n\n$X$ represents variable $X$.\n\n$Y$ represents variable $Y$.\n\n$\\Sigma$ means summation or addition.\n\n## Let's take a look at positive correlations {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r, echo=FALSE, message=FALSE, error=FALSE}\nlibrary(lavaan)\nlibrary(mvtnorm)\nlibrary(ggplot2)\nlibrary(patchwork)\n\nset.seed(326)\n\ncoR <- diag(3)\ncoR [lower.tri(coR)] <- c(.20,.50,.90)\ncoR [upper.tri(coR)] <- c(.20,.50,.90)\n\nSDS <- c(1.2, 1.3,1.4)\n\ngeneratedData <- rmvnorm(200, \n                         mean = c(30,63,95), \n                         sigma = cor2cov(coR, SDS))\n\ndata1 <- as.data.frame(generatedData)\n\n\ncorrr1 <- ggplot(data = data1, aes(x = V1, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm)+\nannotate(\"text\", x = 28, y = 65, label = \"r = .28\")\n \ncorrr2 <- ggplot(data = data1, aes(x = V1, y = V3)) + \n  geom_point() + \n  geom_smooth(method = lm) +\nannotate(\"text\", x = 28, y = 97, label = \"r = .52\") \n \ncorrr3 <- ggplot(data = data1, aes(x = V3, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm) +\nannotate(\"text\", x = 93, y = 65, label = \"r = .91\") \n\ncorrr1+ corrr2 + corrr3 +  plot_layout(ncol = 2) + gridExtra::tableGrob(round(cor(data1),2))\n\n\n\n\n```\n\n## Let's take a look at negative correlations (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r, echo=FALSE, message=FALSE, error=FALSE}\n\nlibrary(lavaan)\nlibrary(mvtnorm)\nlibrary(ggplot2)\nlibrary(patchwork)\n\nset.seed(326)\n\ncoR <- diag(3)\ncoR [lower.tri(coR)] <- c(-.25,-.50,-.90)\ncoR [upper.tri(coR)] <- c(-.25,-.50,-.90)\n\nSDS <- c(1, 1.3,1.4)\n\ngeneratedData <- rmvnorm(200, \n                         mean = c(30,63,95), \n                         sigma = cor2cov(coR, SDS))\n\ndata1 <- as.data.frame(generatedData)\n\n\ncorrr1 <- ggplot(data = data1, aes(x = V1, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm)\n\n \ncorrr2 <- ggplot(data = data1, aes(x = V1, y = V3)) + \n  geom_point() + \n  geom_smooth(method = lm) \n\n \ncorrr3 <- ggplot(data = data1, aes(x = V3, y = V2)) + \n  geom_point() + \n  geom_smooth(method = lm) \n\ncorrr1+ corrr2 + corrr3 +  plot_layout(ncol = 2) + \n  gridExtra::tableGrob(round(cor(data1),2))\n\n```\n\n## Correlation matrix {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n@salkind2021statistics:\n\n-   You will find a correlation matrix in publications.\n-   It is the best way to represent several correlations between different pairs of variables.\n\n![](matrix.png)\n\n-   You will notice that a a correlation matrix has 1.00 on the diagonal and two \"triangles\" with the same information.\n\n![](matrix2.png)\n\n## Coefficient of Determination {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   There is a useful trick, you could square your $r$ and get a measure of correlation in terms of percentage of shared variance:\n\n![](deter.PNG)\n\n## Coefficient of Determination (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   What is the coefficient of determination in this case?\n\n-   We just need to estimate \\$ r\\^2= -0.22\\^2 = -0.05$. Attention and depression shared only 5$%\\$ of the variability (variance).\n\n```{r echo = FALSE, eval = TRUE, message=FALSE,error=FALSE}\nlibrary(dplyr)\nlibrary(ggplot2)\n\nrum <- read.csv(\"rumination.csv\", na.string = \"99\")\n\nrum_scores <- rum %>% mutate(rumiacion = rowSums(across(CRQS1:CRSQ13)),\n                             depresion =  rowSums(across(CDI1:CDI26)),\n                             anx = rowSums(across(DASS1:DASS7)),\n                             worry = (PSWQC_2r + PSWQC_7r + PSWQC_9r + PSWQC_1  + PSWQC_3  + PSWQC_4 + PSWQC_5 + PSWQC_6 + PSWQC_8 + PSWQC_10 + PSWQC_11 + PSWQC_12 + PSWQC_13 + PSWQC_14 )) %>%\n  mutate(rumZ = scale(rumiacion),\n         depreZ = scale(depresion),\n         atencionZ = scale(ATENCION),\n         worryZ = scale(worry))\n\n\n\nggplot(data = rum_scores, aes(x = depreZ, y = atencionZ)) + \n  geom_point() + \n  geom_smooth(method = lm, se = FALSE) + \n  xlab(\"Standardized Depression Score\")+\n  ylab(\"Standardized Attention Score\")+\n  ggtitle(\"Negative correlation between Depression and Attention\") +\n  theme_classic() + \n  annotate(\"text\", x = -1, y = 3, label = \"r = - .22\")\n\n```\n\n## Scatter plots and direction of correlation {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   I have shown you several plots, these plots are called ***scatter plots***.\n\n-   These plots are useful to explore visually possible correlations.\n\n-   When you create this plots, you only need to represent one of the variables in the x-axis and the other variable will be represented in the y-axis.\n\n::: callout-note\n-   Can you guess if the next scatter plot corresponds to a positive correlation?\n:::\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r, error=FALSE,message=FALSE,error=FALSE}\n\nggplot(data = rum_scores, aes(x = rumZ, y = worryZ)) + \n  geom_point() + \n   scale_y_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  scale_x_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  #geom_jitter(width = 0.25) +\n  ##geom_smooth(method = lm) + \n  xlab(\"Standardized Rumination Score\")+\n  ylab(\"Standardized Worry Score\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   We can check some values and see what is happening, like case #78, in the next plot:\n\n```{r,message=FALSE,error=FALSE}\n\nggplot(data = rum_scores, aes(x = rumZ, y = worryZ)) + \n  geom_point() + \n   scale_y_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  scale_x_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  #geom_jitter(width = 0.25) +\n  ##geom_smooth(method = lm) + \n  xlab(\"Standardized Rumination Score\")+\n  ylab(\"Standardized Worry Score\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  gghighlight(worryZ > 2.5, use_direct_label = FALSE)+\n   geom_label(aes(label = ID),\n               hjust = 1, vjust = 1, fill = \"purple\", colour = \"white\", alpha= 0.5)+\n  theme_classic()\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Maybe if we add the line of best fit we will see it better:\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = rum_scores, aes(x = rumZ, y = worryZ)) + \n  geom_point() + \n  geom_smooth(method = lm, color = \"red\", se = FALSE)+\n   scale_y_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  scale_x_continuous(breaks = c(-3, -2, -1, 0, 1, 2, 3),limits = c(-3,3)) +\n  #geom_jitter(width = 0.25) +\n  ##geom_smooth(method = lm) + \n  xlab(\"Standardized Rumination Score\")+\n  ylab(\"Standardized Worry Score\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Can you spot the direction of this correlation?\n\n-   This data come from a questionnaire that asks to rate how emotional you feel. For instance, it asks: Rate how GREAT you feel where 1 = \"not feeling\" to 6=\"I strongly feel it\".\n\n```{r,message=FALSE,error=FALSE}\npos <- read.csv(\"pos_neg.csv\")\n\n\nggplot(data = pos, aes(x = great , y = down)) + \n  geom_point() + \n  #geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     geom_jitter(width = 0.25) +\n  scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Great\")+\n  ylab(\"Down\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Let's add again the line of best linear fit:\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = pos, aes(x = great , y = down)) + \n  geom_point() + \n  geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     geom_jitter(width = 0.25) +\n  scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Great\")+\n  ylab(\"Down\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = rum_scores, aes(x = ageMonths , y = rumZ)) + \n  geom_point() + \n  #geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     #geom_jitter(width = 0.25) +\n  #scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  #scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Age in Months\")+\n  ylab(\"Rumination\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n```\n\n## Scatter plots and direction of correlation (cont.) {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   Let's add the line of linear fit:\n\n```{r,message=FALSE,error=FALSE}\nggplot(data = rum_scores, aes(x = ageMonths , y = rumZ)) + \n  geom_point() + \n  geom_smooth(method = lm, color = \"red\", se = FALSE)+\n     #geom_jitter(width = 0.25) +\n  #scale_y_continuous(breaks = c(1,2,3,4),limits = c(0,4)) +\n  #scale_x_continuous(breaks = c(1,2,3,4,5),limits = c(0,6)) +\n  xlab(\"Age in Months\")+\n  ylab(\"Rumination\")+\n  ggtitle(\"Is this a positive correlation?\") +\n  theme_classic()\n\n```\n\n## Important remarks {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   When the correlation is high, it means there is a large portion of shared variance between $x$ and $y$.\n-   When the correlation is high all the values will converge towards the line of best linear fit.\n-   When the correlation is low, the values will be sparse and far from the line of best fit.\n-   A flat linear line means that there is not correlation between $x$ or $y$ or the correlation is remarkably low. This means $r=0$ or closer to zero.\n\n# Computer estimation time! {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n##  {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n-   In `R` you can estimate Pearson correlations using the function `cor()` as showed here:\n\n```{r echo = TRUE,message=FALSE,error=FALSE}\n### pos is the name of the object representing my data set\ncor(pos$down, pos$great)\n```\n\nIn this estimation, I'm calculating the correlation between the emotion DOWN and the emotion GREAT. The Pearson correlation was $r= -0.36$. Is this a strong correlation?\n\n-   We could follow an ugly rule of thumb, but be careful, these are not rules cast in stone [@salkind2021statistics]:\n\n![](ugly.png){fig-align=\"center\"}\n\n## JAMOVI {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n![](step1.png)\n\n## JAMOVI {.smaller .scrollable background-image=\"slide2.png\" background-opacity=\"0.5\"}\n\n![](step2.png)\n\n## References {background-image=\"slide2.png\" background-opacity=\"0.5\"}\n"},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","self-contained":false,"output-file":"correlation&regressionPart1.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.3.353","auto-stretch":true,"title":"Correlation and Regression Models ","subtitle":"Part 1","author":"Esteban Montenegro-Montenegro, PhD","institute":"Psychology and Child Development","title-slide-attributes":{"data-background-image":"background1.png","data-background-opacity":"0.5"},"editor":"visual","bibliography":["references.bib"],"csl":"apa.csl","theme":["default","custom.scss"],"slideNumber":true,"chalkboard":{"theme":"whiteboard"}}}},"projectFormats":["html"]}